<!DOCTYPE html>
<html lang="en" ng-app="patient">
<head >

	<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->

<script src="https://kit.fontawesome.com/a076d05399.js"></script>


	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- <link href="https://fonts.googleapis.com/css?family=Trade+Winds&display=swap" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css?family=Trade+Winds&display=swap" rel="stylesheet">
    <!-- <link href="https://fonts.googleapis.com/css?family=Yeon+Sung&display=swap" rel="stylesheet"> -->


  <!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
<!-- Google Fonts -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
<!-- Bootstrap core CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
<!-- Material Design Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.0/css/mdb.min.css" rel="stylesheet">
<!-- JQuery -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.0/js/mdb.min.js"></script>

<script type="text/javascript" src="patient_registration.js"></script>
<link  href="patient_profile.html">

	<style type="text/css">
		

        body{
			background-color:whitesmoke;
			background-repeat: no-repeat;
			background-size: 100% 200%;
		}
		#page{
			width: 35%;
			height: 100%
		}
		/*#login{
			padding: 0px;
			margin-top: 0%;
			font-family: 'Trade Winds', ;
            font-size: 30px;
            background-color: #D3D3D3;
            color: black;
            border-radius: 2px;

		}*/
		#loginpage{
			/*font-family: 'Trade Winds', ;*/
			font-family: 'Trade Winds' ;
			/*font-family: 'Yeon Sung' ;*/
			/*font-family: &#39;Lacquer&#39;*/
		}
		input{
			width: 300px;
			height: 50px;
			border-radius: 10px;
		}
		#images{
			border-radius: 50%;
		}
        #id{
        	background-color: black;
        	color: white;
        }
        .in{
        	 
        }
        .in:hover{
        	background-color: seashell;
        	color: white;
        	width: 370px;
        	height: 44px;
        }
        .in:focus {
         background-color: black;
        	color: white;
        	width: 370px;
            height: 44px;   
         }
         #login{
         	width: 100px;
         	background-color: goldenrod;
         	color: black;
         }
         #login:hover{
         	width:110px;
         	background-color: red;
         	color: white;

         }
         #save_password{
          display: block;
         }
	</style>


<script type="text/javascript">
	

// for trigger button through Enter
addEventListener("keyup", function(event) {
  if(event.keyCode === 13) {
   event.preventDefault();
   document.getElementById("login").click();
  }
});


   
    var Response_data;
   function sendJSON(){ 
    console.log("arjun");
          
          let PATIENT_FIRST_NAME = document.querySelector('#first_name'); 
          let PATIENT_LAST_NAME = document.querySelector('#last_name'); 
          let PASSWORD = document.querySelector('#Password')     
          let xhr = new XMLHttpRequest();
      
          xhr.open("POST","http://03c922f4962b.ngrok.io/Patient_interface/Patient_login/", true); 
          xhr.setRequestHeader("Content-Type", "application/json"); 

          xhr.onreadystatechange = function () { 
              if (xhr.readyState === 4 && xhr.status === 200) {

                  Response_data = this.responseText;
                  document.getElementById("demo").innerHTML =Response_data
                   // document.getElementById("demo").innerHTML = JSON.parse(Request.response); 
                   // document.getElementById("demo").innerHTML  = JSON.parse(Request.response);

              } 
          };  
          var data = JSON.stringify({"PATIENT_FIRST_NAME" : PATIENT_FIRST_NAME.value, "PATIENT_LAST_NAME" : PATIENT_LAST_NAME.value, "PASSWORD" : PASSWORD.value}); 

          xhr.send(data); 
          console.log(data)
          if (Response_data=="not regisstered yet") {
            alert("not regisstered yet");
            return false;
          }
          else{
            document.getElementById('save_password').style.display="block";
          }
          /* window.location = "patient_registration.html";*/
      }
      



     
  function appointment(){ 
    console.log("arjun");
          
          let APPOINTMENT_DATE = document.querySelector('#appointment_date'); 
          let APPOINTMENT_TIME = document.querySelector('#appointment_time'); 
          let SPECIALZATION = document.querySelector('#Specialist_in');
          let Preferred_city = document.getElementById('Preferred_city');
          let Problem = document.getElementById('problem');     
          let xhr = new XMLHttpRequest();
      
          xhr.open("POST","http://03c922f4962b.ngrok.io/Patient_interface/Patient_login/", true); 
          xhr.setRequestHeader("Content-Type", "application/json"); 

          xhr.onreadystatechange = function () { 
              if (xhr.readyState === 4 && xhr.status === 200) {


                  document.getElementById("demo").innerHTML = this.responseText;
                   // document.getElementById("demo").innerHTML = JSON.parse(Request.response); 
                   // document.getElementById("demo").innerHTML  = JSON.parse(Request.response);

              } 
          };  
          var data = JSON.stringify({"appointment_date" : APPOINTMENT_DATE.value, "appointment_time" : APPOINTMENT_TIME.value, "speciality" : SPECIALZATION.value, "preferred_location" : Preferred_location.value, "problem" : Problem.value}); 

          xhr.send(data); 
          console.log(data)
          /* window.location = "patient_registration.html";*/
      }
</script>




</head>
<body ui-view>
	<form  method="get">
		<div class="container" style="padding-top: 5%;">
			<div class="row">
	<div class="col-sm-2 col-md-4  col-lg-4 col-xl-4  "></div>
<div id="page"  class="col-sm-8 col-md-4  col-lg-4 col-xl-4">
	<!-- <p id="login">Login Page</p><br> -->
	<!-- <p>User Name</p> -->
	 <center>
	 
     <h1 id="loginpage";>login page</h1></center>
	<br>
	<div >
    </div>
	
    <input type="text"   class="form-control in" id="first_name" name="name"  placeholder="First Name" autocomplete="off"><br>
    <input type="text"   class="form-control in" id="last_name" name="name" placeholder="Last Name" autocomplete="off"><br>
	<!-- <p>User Id</p> -->
	<input type="password" class="form-control in" id="Password" name="Password"  placeholder="Password" autocomplete="off"><br><br>
	
	
	
	
	<center>
		<button type="button" class="btn" id="login" onclick="sendJSON()">LOGIN</button>
	</center><br>



  <!-- Button trigger modal -->
<button type="button" class="btn btn-primary" id="save_password" data-toggle="modal" data-target="#centralModalSm" onclick="">
  <a ui-sref='patient_profile()'>SAVE Password</a>
</button>



<!-- Central Modal Small -->
<div class="modal fade" id="centralModalSm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">

  <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-sm" role="document">


    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100" id="myModalLabel">Modal title</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
       
        <button type="button" class="btn btn-primary btn-sm" ><a ui-sref="patient_profile()"></a></button>
      </div>
    </div>
  </div>
</div>
<!-- Central Modal Small -->
	
</div>
<div class="col-sm-2 col-md-4  col-lg-4 col-xl-4 "></div>
<P id='demo'></P>
</div>
</div>
</form> 
</body>
</html>